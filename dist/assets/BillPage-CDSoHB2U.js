import{g as l,i as c,c as x,d as o,r as m,j as e,L as h}from"./index-_3OQfKDT.js";import{P as p}from"./printer-BAQL_cwa.js";const j=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],y=l("arrow-left",j);const b=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i=l("circle-check-big",b);function N(){const{orderId:r}=c(),s=x(o.orders.getOrderById,{orderId:r}),a=m.useRef(null),n=()=>{window.print()};return s?e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center no-print",children:[e.jsxs(h,{to:"/home",className:"flex items-center text-gray-600 hover:text-[#2E7D32] transition-colors",children:[e.jsx(y,{className:"w-4 h-4 mr-2"})," Back to Home"]}),e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-[#2E7D32] text-white rounded-lg hover:bg-[#1B4332] transition",children:[e.jsx(p,{className:"w-4 h-4"})," ",e.jsx("span",{children:"Print Invoice"})]})]}),e.jsxs("div",{ref:a,className:"bg-white p-8 rounded-xl shadow-lg border border-gray-200 printable-area",id:"invoice",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8 border-b pb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-[#1B4332] font-serif",style:{fontFamily:"'Playfair Display', serif"},children:"ASKA"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Order Invoice"})]}),e.jsxs("div",{className:"text-right",children:[s.status==="pending"&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-yellow-100 text-yellow-700 text-sm font-semibold mb-2",children:[e.jsx(i,{className:"w-4 h-4 mr-1"})," Pending Confirmation"]}),s.status==="confirmed"&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-sm font-semibold mb-2",children:[e.jsx(i,{className:"w-4 h-4 mr-1"})," Order Confirmed"]}),s.status==="delivered"&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-100 text-green-700 text-sm font-semibold mb-2",children:[e.jsx(i,{className:"w-4 h-4 mr-1"})," Delivered"]}),s.status==="cancelled"&&e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-red-100 text-red-700 text-sm font-semibold mb-2",children:[e.jsx(i,{className:"w-4 h-4 mr-1"})," Cancelled"]}),e.jsx("p",{className:"text-gray-900 font-mono font-bold text-lg",children:s.invoiceNumber}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",new Date(s.orderDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-2",children:"Pickup Location"}),e.jsx("p",{className:"font-semibold text-gray-800",children:s.location?.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.location?.address})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-2",children:"Time Slot"}),e.jsx("p",{className:"font-semibold text-gray-800",children:s.timeslot?.label}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.timeslot?.startTime," - ",s.timeslot?.endTime]}),e.jsxs("p",{className:"text-sm text-[#2E7D32] font-semibold mt-1",children:["Expected Delivery: ",s.timeslot?.deliveryTime]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-xs font-semibold text-gray-500 uppercase border-b",children:[e.jsx("th",{className:"pb-3",children:"Item"}),e.jsx("th",{className:"pb-3 text-center",children:"Qty"}),e.jsx("th",{className:"pb-3 text-right",children:"Price"}),e.jsx("th",{className:"pb-3 text-right",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y",children:s.items.map((t,d)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-4 text-gray-800",children:t.name}),e.jsx("td",{className:"py-4 text-center text-gray-600",children:t.quantity}),e.jsxs("td",{className:"py-4 text-right text-gray-600",children:["₹",t.price]}),e.jsxs("td",{className:"py-4 text-right font-medium text-gray-900",children:["₹",t.price*t.quantity]})]},d))})]})}),e.jsx("div",{className:"flex justify-end border-t pt-6",children:e.jsxs("div",{className:"w-48 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["₹",s.totalAmount-s.deliveryCharge]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Delivery"}),e.jsxs("span",{children:["₹",s.deliveryCharge]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-[#1B4332] pt-2 border-t",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₹",s.totalAmount]})]})]})}),e.jsx("div",{className:"mt-12 text-center text-sm text-gray-400",children:e.jsx("p",{children:"Thank you for ordering with ASKA!"})})]}),e.jsx("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          .no-print {
            display: none;
          }
          #invoice, #invoice * {
            visibility: visible;
          }
          #invoice {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            margin: 0;
            padding: 20px;
            box-shadow: none;
            border: none;
          }
        }
      `})]}):e.jsx("div",{className:"text-center py-20",children:"Loading Invoice..."})}export{N as default};
