import{g as h,f as j,c as g,d as v,u as N,j as e}from"./index-_3OQfKDT.js";import{S as x,M as w}from"./shopping-bag-D_J6mH3n.js";import{P as C}from"./plus--vRzd3z2.js";const k=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],I=h("trash-2",k);const E=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M=h("triangle-alert",E);function q(){const{cartItems:a,removeFromCart:i,updateQuantity:n,totalAmount:d,deliveryCharge:o,selectedLocationId:b,selectedTimeslotId:r}=j(),f=a.map(s=>s.id),u=g(v.items.getByIds,{ids:f}),c=N(),l=u?.filter(s=>r?!s.availableTimeslotIds.includes(r):!1)||[],m=l.length>0;if(a.length===0)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl shadow-sm",children:[e.jsx(x,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Looks like you haven't added anything yet."}),e.jsx("button",{onClick:()=>c("/home"),className:"px-6 py-2 bg-[#2E7D32] text-white rounded-lg hover:bg-[#1B4332] transition",children:"Go to Menu"})]});const p=d+o,t=b&&r&&!m,y=()=>{l.forEach(s=>i(s._id))};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#1B4332] font-serif",style:{fontFamily:"'Playfair Display', serif"},children:"Your Cart"}),m&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(M,{className:"w-5 h-5 text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-800",children:"Items unavailable for selected time"}),e.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["The following items are not available for your selected timeslot:",e.jsx("span",{className:"font-semibold ml-1",children:l.map(s=>s.name).join(", ")})]})]})]}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-white border border-amber-200 text-amber-700 rounded-lg hover:bg-amber-100 transition whitespace-nowrap font-medium text-sm",children:"Remove Unavailable Items"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-2 space-y-4",children:a.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:e.jsx(x,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800 font-serif",style:{fontFamily:"'Playfair Display', serif"},children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["₹",s.price," each"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-[#E8F5E9] px-3 py-2 rounded-lg border border-[#C8E6C9]",children:[e.jsx("button",{onClick:()=>n(s.id,s.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-[#C8E6C9] text-[#1B4332] rounded-md transition-colors border border-[#C8E6C9]","aria-label":"Decrease quantity",children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-semibold text-[#1B4332] min-w-[2rem] text-center",children:s.quantity}),e.jsx("button",{onClick:()=>n(s.id,s.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-[#C8E6C9] text-[#1B4332] rounded-md transition-colors border border-[#C8E6C9]","aria-label":"Increase quantity",children:e.jsx(C,{className:"w-4 h-4"})})]}),e.jsxs("span",{className:"font-semibold text-gray-900 min-w-[4rem] text-right",children:["₹",s.price*s.quantity]}),e.jsx("button",{onClick:()=>i(s.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-full transition-colors","aria-label":"Remove item",children:e.jsx(I,{className:"w-5 h-5"})})]})]},s.id))}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[e.jsx("h3",{className:"text-xl font-bold text-[#1B4332] mb-4 font-serif",style:{fontFamily:"'Playfair Display', serif"},children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items Total"}),e.jsxs("span",{children:["₹",d]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Delivery Charge"}),e.jsxs("span",{children:["₹",o]})]}),e.jsxs("div",{className:"border-t pt-3 flex justify-between font-bold text-lg text-[#1B4332]",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₹",p]})]})]}),e.jsx("button",{onClick:()=>c("/payment"),disabled:!t,className:`w-full py-3 rounded-lg font-bold text-white transition-all ${t?"bg-[#2E7D32] hover:bg-[#1B4332] shadow-lg hover:shadow-xl":"bg-gray-300 cursor-not-allowed"}`,children:t?"Proceed to Payment":"Select Location & Time first"}),!t&&e.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:"Please select details in Menu first."})]})})]})]})}export{q as default};
