import{g as x,c as u,d as o,e as m,r,j as e,S as v}from"./index--VjYBowS.js";const y=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],p=x("save",y);function j(){const s=u(o.settings.getAllSettings,{}),g=m(o.settings.updateSetting),[l,i]=r.useState(""),[d,c]=r.useState(!1),[n,a]=r.useState(null);r.useState(()=>{s?.deliveryCharge!==void 0&&i(String(s.deliveryCharge))});const h=async()=>{const t=parseFloat(l);if(isNaN(t)||t<0){a({type:"error",text:"Please enter a valid delivery charge"});return}c(!0),a(null);try{await g({key:"deliveryCharge",value:t}),a({type:"success",text:"Settings saved successfully!"})}catch{a({type:"error",text:"Failed to save settings"})}finally{c(!1)}};return s?(l===""&&s.deliveryCharge!==void 0&&i(String(s.deliveryCharge)),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-8 h-8 text-gray-700"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"deliveryCharge",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Charge (â‚¹)"}),e.jsx("input",{id:"deliveryCharge",type:"number",min:"0",step:"0.01",value:l,onChange:t=>i(t.target.value),className:"w-full max-w-xs px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter delivery charge"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This charge will be added to all customer orders"})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs("button",{onClick:h,disabled:d,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[e.jsx(p,{className:"w-4 h-4"}),d?"Saving...":"Save Changes"]}),n&&e.jsx("div",{className:`px-4 py-2 rounded-lg text-sm font-medium ${n.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.text})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"ðŸ’¡ Note"}),e.jsx("p",{className:"text-sm text-blue-800",children:"Changes to the delivery charge will apply to all new orders. Existing orders will retain their original delivery charge."})]})]})):e.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading settings..."})}export{j as default};
